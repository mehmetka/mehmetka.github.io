"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[3202],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=c(n),m=a,k=s["".concat(p,".").concat(m)]||s[m]||d[m]||o;return n?r.createElement(k,l(l({ref:t},u),{},{components:n})):r.createElement(k,l({ref:t},u))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[s]="string"==typeof e?e:a,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1252:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={tags:["docker","ldap","mysql","php","phpmyadmin"]},l=void 0,i={unversionedId:"technical/docker/uncategorized",id:"technical/docker/uncategorized",title:"uncategorized",description:"Install LDAP Extension on php-apache Docker Image",source:"@site/docs/technical/docker/uncategorized.md",sourceDirName:"technical/docker",slug:"/technical/docker/uncategorized",permalink:"/technical/docker/uncategorized",draft:!1,editUrl:"https://github.com/mehmetkanatt/notebook/blob/master/docs/technical/docker/uncategorized.md",tags:[{label:"docker",permalink:"/tags/docker"},{label:"ldap",permalink:"/tags/ldap"},{label:"mysql",permalink:"/tags/mysql"},{label:"php",permalink:"/tags/php"},{label:"phpmyadmin",permalink:"/tags/phpmyadmin"}],version:"current",frontMatter:{tags:["docker","ldap","mysql","php","phpmyadmin"]},sidebar:"tutorialSidebar",previous:{title:"Renaming Docker Volume",permalink:"/technical/docker/renaming-docker-volume"},next:{title:"elasticsearch",permalink:"/category/elasticsearch"}},p={},c=[],u={toc:c},s="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Install LDAP Extension on php-apache Docker Image"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"FROM php:7.3.28-apache\n\nRUN apt-get update && \\  \n    apt-get install -y libldap2-dev\n\nRUN docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/  \nRUN docker-php-ext-install ldap  \n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2022-08-13 20:58:08)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker #ldap #php")),(0,a.kt)("p",null,"--"),(0,a.kt)("p",null,"Connect PHPMyAdmin to Remote MySQL with Docker"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"docker run --name phpmyadmin -d -e PMA_HOST=remote-host -p 8080:80 phpmyadmin  \n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2022-08-13 20:58:46)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker #mysql #phpmyadmin")),(0,a.kt)("p",null,"--"),(0,a.kt)("p",null,"By default, any Docker Container may consume as much of the hardware such as CPU and RAM. If you are running multiple containers on the same host you should limit how much memory they can consume."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'-m "300M" --memory-swap "1G"  \n')),(0,a.kt)("p",null,"If you need to change the uid/gid of the user you can use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"RUN groupmod -g 999 node && usermod -u 999 -g 999 node  \n")),(0,a.kt)("p",null,"At the end, set the user to use when running this image"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"USER node  \n")),(0,a.kt)("p",null,"When creating an image, you can bypass the package.json's start command and bake it directly into the image itself. First off this reduces the number of processes running inside of your container. Secondly it causes exit signals such as SIGTERM and SIGINT to be received by the Node.js process instead of npm swallowing them."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'CMD ["node","index.js"]  \n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2023-08-31 17:24:50)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker")),(0,a.kt)("p",null,"--"),(0,a.kt)("p",null,"Docker Secrets (Swarm)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"docker secret create secret_name secret_value  \ndocker secret inspect secret_name  \ndocker secret ls  \n")),(0,a.kt)("p",null,"Docker Secrets kullan\u0131m ama\xe7lar\u0131ndan birisi de containerlar ile credentials aras\u0131nda soyutlama sa\u011flamaktad\u0131r. Key-Value gibi \xe7al\u0131\u015fan bu sistemde ",(0,a.kt)("inlineCode",{parentName:"p"},"docker secret create [isim] [saklanacak_bilgi]")," komutu ile gerekli bilgiyi bir referans ismi atamas\u0131 ger\xe7ekle\u015ftirerek kripte edilmi\u015f bir vaziyette \u201cRaft loglar\u0131\u201d aras\u0131nda tutmaktad\u0131r."),(0,a.kt)("p",null,"Source: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/aws-certified-user-group-turkey/docker-i%C3%A7in-yard%C4%B1mc%C4%B1-bilgiler-84783232a75f"},"https://medium.com/aws-certified-user-group-turkey/docker-i%C3%A7in-yard%C4%B1mc%C4%B1-bilgiler-84783232a75f"),"  ")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2022-08-13 20:58:28)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker")),(0,a.kt)("p",null,"--"),(0,a.kt)("p",null,"Error Message:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"configure: error: Unable to detect ICU prefix or no failed. Please verify ICU install prefix and make sure icu-config works  \n")),(0,a.kt)("p",null,"Solution:",(0,a.kt)("br",{parentName:"p"}),"\n","Install ",(0,a.kt)("inlineCode",{parentName:"p"},"libicu-dev"),' package for "php:5.6.40-apache-jessie" image.  '),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2022-08-13 21:11:14)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker")),(0,a.kt)("p",null,"--"),(0,a.kt)("p",null,"Encountered this error on m1 mbp"),(0,a.kt)("p",null,"Error Message:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Error:  \n => ERROR [internal] load metadata for docker.io/library/php:5.6.40-apache-jessie                                                                                                                                                  0.9s\n------  \n > [internal] load metadata for docker.io/library/php:5.6.40-apache-jessie:\n------  \nfailed to solve with frontend dockerfile.v0: failed to create LLB definition: no match for platform in manifest sha256:5a43f...ba648: not found  \n")),(0,a.kt)("p",null,"Solution:",(0,a.kt)("br",{parentName:"p"}),"\n","Add --platform flag to pull right images"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"docker build -t imagename --platform linux/amd64 .  \n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Unknown (2022-08-13 20:59:00)",(0,a.kt)("br",{parentName:"p"}),"\n","#docker")))}d.isMDXComponent=!0}}]);